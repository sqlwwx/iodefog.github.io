<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="iodefog"><title>CATransform3D等方法介绍说明 · iodefog</title><meta name="description" content="概述CATransform3D是一个用于处理3D形变的类,其可以改变控件的平移、缩放、旋转、斜交等,其坐标系统采用的是三维坐标系,即向右为x轴正方向,向下为y轴正方向,垂直屏幕向外为z轴正方向
方法介绍
CATransform3DMakeTranslation实现以初始位置为基准,在x轴方向上平移x"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/./images/logo.png" style="width:127px;"><h3 title=""><a href="/">iodefog</a></h3><div class="description"><p>记录人生道路景色的，点点滴滴。</p></div></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/about">关于</a></li><li><a href="/links">链接</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>CATransform3D等方法介绍说明</a></h3></div><div class="post-content"><p>概述<br>CATransform3D是一个用于处理3D形变的类,其可以改变控件的平移、缩放、旋转、斜交等,其坐标系统采用的是三维坐标系,即向右为x轴正方向,向下为y轴正方向,垂直屏幕向外为z轴正方向</p>
<p>方法介绍</p>
<h3 id="CATransform3DMakeTranslation实现以初始位置为基准-在x轴方向上平移x单位-在y轴方向上平移y单位-在z轴方向上平移z单位"><a href="#CATransform3DMakeTranslation实现以初始位置为基准-在x轴方向上平移x单位-在y轴方向上平移y单位-在z轴方向上平移z单位" class="headerlink" title="CATransform3DMakeTranslation实现以初始位置为基准,在x轴方向上平移x单位,在y轴方向上平移y单位,在z轴方向上平移z单位"></a>CATransform3DMakeTranslation实现以初始位置为基准,在x轴方向上平移x单位,在y轴方向上平移y单位,在z轴方向上平移z单位</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 格式</span><br><span class="line">CATransform3DMakeTranslation (CGFloat tx, CGFloat ty, CGFloat tz)</span><br><span class="line">// 样例</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DMakeTranslation(100, 100, 0);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注: 注: 当tx为正值时,会向x轴正方向平移,反之,则向x轴负方向平移;当ty为正值时,会向y轴正方向平移,反之,则向y轴负方向平移;当tz为正值时,会向z轴正方向平移,反之,则向z轴负方向平移</span><br></pre></td></tr></table></figure>
<h3 id="CATransform3DMakeScale实现以初始位置为基准-在x轴方向上缩放x倍-在y轴方向上缩放y倍-在z轴方向上缩放z倍"><a href="#CATransform3DMakeScale实现以初始位置为基准-在x轴方向上缩放x倍-在y轴方向上缩放y倍-在z轴方向上缩放z倍" class="headerlink" title="CATransform3DMakeScale实现以初始位置为基准,在x轴方向上缩放x倍,在y轴方向上缩放y倍,在z轴方向上缩放z倍"></a>CATransform3DMakeScale实现以初始位置为基准,在x轴方向上缩放x倍,在y轴方向上缩放y倍,在z轴方向上缩放z倍</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 格式</span><br><span class="line">CATransform3DMakeScale (CGFloat sx, CGFloat sy, CGFloat sz)</span><br><span class="line">// 样例</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DMakeScale(2, 0.5, 1);</span><br><span class="line"></span><br><span class="line">注: 当sx为正值时,会在x轴方向上缩放x倍,反之,则在缩放的基础上沿着竖直线翻转;当sy为正值时,会在y轴方向上缩放y倍,反之,则在缩放的基础上沿着水平线翻转</span><br></pre></td></tr></table></figure>
<h4 id="CATransform3DMakeRotation实现以初始位置为基准-在x轴-y轴-z轴方向上逆时针旋转angle弧度-弧度-π-180×角度-M-PI弧度代表180角度-x-y-z三个参数只分是否为0"><a href="#CATransform3DMakeRotation实现以初始位置为基准-在x轴-y轴-z轴方向上逆时针旋转angle弧度-弧度-π-180×角度-M-PI弧度代表180角度-x-y-z三个参数只分是否为0" class="headerlink" title="CATransform3DMakeRotation实现以初始位置为基准,在x轴,y轴,z轴方向上逆时针旋转angle弧度(弧度=π/180×角度,M_PI弧度代表180角度),x,y,z三个参数只分是否为0"></a>CATransform3DMakeRotation实现以初始位置为基准,在x轴,y轴,z轴方向上逆时针旋转angle弧度(弧度=π/180×角度,M_PI弧度代表180角度),x,y,z三个参数只分是否为0</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 格式</span><br><span class="line">CATransform3DMakeRotation (CGFloat angle, CGFloat x, CGFloat y, CGFloat z)</span><br><span class="line">// 样例</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DMakeRotation(M_PI*0.25, 0, 0, 1);</span><br><span class="line">注: 当x,y,z值为0时,代表在该轴方向上不进行旋转,当值为1时,代表在该轴方向上进行逆时针旋转,当值为-1时,代表在该轴方向上进行顺时针旋转</span><br></pre></td></tr></table></figure>
<h3 id="CATransform3DTranslate实现以一个已经存在的形变为基准-在x轴方向上平移x单位-在y轴方向上平移y单位-在z轴方向上平移z单位"><a href="#CATransform3DTranslate实现以一个已经存在的形变为基准-在x轴方向上平移x单位-在y轴方向上平移y单位-在z轴方向上平移z单位" class="headerlink" title="CATransform3DTranslate实现以一个已经存在的形变为基准,在x轴方向上平移x单位,在y轴方向上平移y单位,在z轴方向上平移z单位"></a>CATransform3DTranslate实现以一个已经存在的形变为基准,在x轴方向上平移x单位,在y轴方向上平移y单位,在z轴方向上平移z单位</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 格式</span><br><span class="line">CATransform3DTranslate (CATransform3D t, CGFloat tx, CGFloat ty, CGFloat tz)</span><br><span class="line">// 样例</span><br><span class="line">CATransform3D transform = CATransform3DIdentity;</span><br><span class="line">transform.m34 = -1.0/500;</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DTranslate(transform, 0, 0, 100);</span><br></pre></td></tr></table></figure>
<h3 id="CATransform3DScale实现以一个已经存在的形变为基准-在x轴方向上缩放x倍-在y轴方向上缩放y倍-在z轴方向上缩放z倍"><a href="#CATransform3DScale实现以一个已经存在的形变为基准-在x轴方向上缩放x倍-在y轴方向上缩放y倍-在z轴方向上缩放z倍" class="headerlink" title="CATransform3DScale实现以一个已经存在的形变为基准,在x轴方向上缩放x倍,在y轴方向上缩放y倍,在z轴方向上缩放z倍"></a>CATransform3DScale实现以一个已经存在的形变为基准,在x轴方向上缩放x倍,在y轴方向上缩放y倍,在z轴方向上缩放z倍</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 格式</span><br><span class="line">CATransform3DScale (CATransform3D t, CGFloat sx, CGFloat sy, CGFloat sz)</span><br><span class="line">// 样例</span><br><span class="line">CATransform3D transform = CATransform3DIdentity;</span><br><span class="line">transform.m34 = -1.0/500;</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DScale(transform, 2, 0.5, 1);</span><br></pre></td></tr></table></figure>
<h3 id="CATransform3DRotate实现以一个已经存在的形变为基准-在x轴-y轴-z轴方向上逆时针旋转angle弧度-弧度-π-180×角度-M-PI弧度代表180角度-x-y-z三个参数只分是否为0"><a href="#CATransform3DRotate实现以一个已经存在的形变为基准-在x轴-y轴-z轴方向上逆时针旋转angle弧度-弧度-π-180×角度-M-PI弧度代表180角度-x-y-z三个参数只分是否为0" class="headerlink" title="CATransform3DRotate实现以一个已经存在的形变为基准,在x轴,y轴,z轴方向上逆时针旋转angle弧度(弧度=π/180×角度,M_PI弧度代表180角度),x,y,z三个参数只分是否为0"></a>CATransform3DRotate实现以一个已经存在的形变为基准,在x轴,y轴,z轴方向上逆时针旋转angle弧度(弧度=π/180×角度,M_PI弧度代表180角度),x,y,z三个参数只分是否为0</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 格式</span><br><span class="line">CATransform3DRotate (CATransform3D t, CGFloat angle, CGFloat x, CGFloat y, CGFloat z)</span><br><span class="line">// 样例</span><br><span class="line">CATransform3D transform = CATransform3DIdentity;</span><br><span class="line">transform.m34 = -1.0/500;</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DRotate(transform, M_PI*0.25, 1, 0, 0);</span><br></pre></td></tr></table></figure>
<h3 id="特殊地-transform属性默认值为CATransform3DIdentity-可以在形变之后设置该值以还原到最初状态"><a href="#特殊地-transform属性默认值为CATransform3DIdentity-可以在形变之后设置该值以还原到最初状态" class="headerlink" title="特殊地,transform属性默认值为CATransform3DIdentity,可以在形变之后设置该值以还原到最初状态"></a>特殊地,transform属性默认值为CATransform3DIdentity,可以在形变之后设置该值以还原到最初状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 样例</span><br><span class="line">self.demoImageView.layer.transform = CATransform3DIdentity;</span><br></pre></td></tr></table></figure>
<p>提供一个demo<br><a href="https://github.com/timelywind/YUAnimation" target="_blank" rel="noopener">https://github.com/timelywind/YUAnimation</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-11-06</span><i class="fa fa-tag"></i><a href="/categories/ios/" title="ios" class="tag">ios </a><a href="/tags/object-c-ios-CATransform3D/" title="object-c,ios,CATransform3D" class="tag">object-c,ios,CATransform3D </a></div></div></div></div><div class="pagination"><ul class="clearfix"></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>